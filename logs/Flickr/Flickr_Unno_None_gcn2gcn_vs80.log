nohup: ignoring input
Namespace(cuda=True, dataset='Flickr', debug=True, defense_mode='none', device_id=2, dis_weight=1.0, dropout=0.5, epochs=200, evaluate_mode='overall', hidden=64, homo_boost_thrd=0.5, homo_loss_weight=1.0, inner=1, lr=0.01, model='GCN', no_cuda=False, prune_thr=0.15, seed=11, selection_method='none', target_class=0, target_loss_weight=1, test_model='GCN', thrd=0.5, train_lr=0.02, trigger_size=3, trojan_epochs=200, use_vs_number=True, vs_number=400, vs_ratio=0, weight_decay=0.0005)
Length of training set: 17850
Training benign model Finished!
Total time elapsed: 14.5788s
Benign CA: 0.4530
#Attach Nodes:400
idx_attach: tensor([67234, 70935, 18432, 10101, 44248, 80691, 55020, 44983, 73130, 66173,
        25204, 64318, 71396, 69957, 88514, 15452, 82877, 62169, 22150, 41613,
        81391, 58576, 85025,  8744, 22730,  9006, 84563, 29980, 16503, 32464,
        10461, 66575, 22914, 29964, 72748,  2219, 84042, 34205, 27602, 20654,
        41038, 31878,  8875, 38749, 48559, 76873, 59546, 29991, 86576, 15977,
        78985, 80964, 72704, 62289, 75810, 25352, 25778, 20552, 70016, 65255,
        30933, 21346, 15777, 69565, 74715, 86550, 25215, 79535, 53817, 58304,
        22854,  3817, 25915, 28615, 83815,  3711, 21752, 36714, 80215, 53615,
        78780, 63355, 42635, 60998, 25170, 73015, 20434, 54137, 66504, 14279,
         5091, 28243,  6160, 48242, 73131, 46313, 18908, 20345, 65733, 28548,
        27937, 33957, 45334, 65308, 31695, 65703, 49285, 74084, 75617, 66155,
        25425,  7267, 33566, 58018,  3533, 65883, 51347, 42994, 70729, 57674,
        33646, 45239, 13809,  9408, 35742, 27082, 29689, 43210, 14843, 56626,
        20007, 29709, 29609, 88176, 21494, 33052, 47603, 45460,  3424, 77388,
        71807, 27969, 77242, 70017, 69582,  8784,  9494,  2904, 29005, 43609,
        42835, 25760, 26198, 51889, 74042, 68836, 65858, 55781, 17835,  5187,
        66690, 29022, 39159, 35126, 56873, 44930, 81888, 47901, 20609,    25,
        11574, 70058, 38667,  5701, 56867, 73186, 38521, 43807, 10710,  1821,
        43128, 13823, 57987, 85096, 79982, 34807, 56384,  9808, 56942, 30256,
        31675, 50635, 86654, 17511, 23411, 29373, 53081, 78614, 69237, 48707,
        73626, 44293, 59219, 12957, 75430, 37221, 37493, 42545, 57065, 33161,
        20694, 12936, 47588, 42076, 37932, 21282,  7088, 22737, 82515, 70893,
        50758, 37227, 72111, 60087, 54000, 24409, 73499, 48421, 77057,  6444,
        24446, 22422, 71815, 54324, 23539, 46304, 74598, 80291, 16116, 48525,
        82495, 79108,  1107,  9690, 85011, 20343,  5657, 37643,   614, 39936,
        82782, 32362, 77841, 59522, 11879, 14616, 57711, 38076, 41890, 43286,
        16828, 18082, 47488, 34479, 77856, 30034, 72455, 26133,  1842, 63708,
        25535, 36221, 46681, 37364,  9924, 54476, 26437,  1975, 41543, 40938,
        10664, 31998, 36323, 86719, 26580, 35376, 87769, 71408, 64997,  4913,
        39410, 76799, 29262, 43592, 33911, 65377, 21423, 26188, 17018, 25680,
        70124, 45479, 29340, 18134, 49083, 50628, 40041, 88826,  2773, 68944,
        16738, 14859, 63017, 68675, 19808, 52875, 41172, 80656, 65232, 62581,
        11778, 48169,  3905, 70129, 86805, 57867, 82629, 35019, 55810, 58896,
        68200, 65726, 85693,  5759, 75058, 82560, 17315, 63670, 42025, 47282,
        33312, 18573, 17823, 87492, 18037, 32024, 73770, 37273, 85574, 71615,
        25424, 18106, 15834, 15975, 68067, 39693, 60697, 53783, 72997, 50133,
        76123, 45502, 57333, 71124, 34972,   595, 33935, 67154, 44417, 68427,
        68207, 79434, 24575, 55394, 28694, 76316, 30633, 73424, 64760, 48046,
        44885, 64779, 51520, 53175, 81491, 42765, 38779, 41250, 83130,  9020,
        64371, 34561,  9312, 22535, 81049, 49875, 19920, 36274, 34364, 15231],
       device='cuda:2')
Epoch 0, loss_inner: 1.94539, loss_target: 1.91941, homo loss: 0.46718 
acc_train_clean: 0.0515, ASR_train_attach: 0.0000, ASR_train_outter: 0.0000
Epoch 10, loss_inner: 1.67573, loss_target: 1.64129, homo loss: 0.00851 
acc_train_clean: 0.4243, ASR_train_attach: 0.0200, ASR_train_outter: 0.5033
Epoch 20, loss_inner: 1.60740, loss_target: 1.56844, homo loss: 0.00519 
acc_train_clean: 0.4243, ASR_train_attach: 0.9850, ASR_train_outter: 0.9726
Epoch 30, loss_inner: 1.59458, loss_target: 1.55562, homo loss: 0.00338 
acc_train_clean: 0.4243, ASR_train_attach: 0.9850, ASR_train_outter: 0.9737
Epoch 40, loss_inner: 1.58413, loss_target: 1.54367, homo loss: 0.00484 
acc_train_clean: 0.4243, ASR_train_attach: 0.9900, ASR_train_outter: 0.9825
Epoch 50, loss_inner: 1.57656, loss_target: 1.53519, homo loss: 0.00663 
acc_train_clean: 0.4243, ASR_train_attach: 0.9950, ASR_train_outter: 0.9868
Epoch 60, loss_inner: 1.57018, loss_target: 1.52932, homo loss: 0.00534 
acc_train_clean: 0.4243, ASR_train_attach: 0.9950, ASR_train_outter: 0.9879
Epoch 70, loss_inner: 1.56451, loss_target: 1.52331, homo loss: 0.00651 
acc_train_clean: 0.4244, ASR_train_attach: 0.9950, ASR_train_outter: 0.9923
Epoch 80, loss_inner: 1.56024, loss_target: 1.51927, homo loss: 0.00554 
acc_train_clean: 0.4243, ASR_train_attach: 0.9950, ASR_train_outter: 0.9923
Epoch 90, loss_inner: 1.55568, loss_target: 1.51443, homo loss: 0.00557 
acc_train_clean: 0.4254, ASR_train_attach: 0.9975, ASR_train_outter: 0.9945
Epoch 100, loss_inner: 1.55172, loss_target: 1.51083, homo loss: 0.00573 
acc_train_clean: 0.4251, ASR_train_attach: 0.9975, ASR_train_outter: 0.9934
Epoch 110, loss_inner: 1.54750, loss_target: 1.50627, homo loss: 0.00530 
acc_train_clean: 0.4266, ASR_train_attach: 0.9975, ASR_train_outter: 0.9945
Epoch 120, loss_inner: 1.54555, loss_target: 1.50867, homo loss: 0.00867 
acc_train_clean: 0.4258, ASR_train_attach: 0.9975, ASR_train_outter: 0.9846
Epoch 130, loss_inner: 1.60390, loss_target: 1.64379, homo loss: 0.01973 
acc_train_clean: 0.4198, ASR_train_attach: 1.0000, ASR_train_outter: 1.0000
Epoch 140, loss_inner: 1.54761, loss_target: 1.51888, homo loss: 0.12506 
acc_train_clean: 0.4294, ASR_train_attach: 0.9975, ASR_train_outter: 0.9978
Epoch 150, loss_inner: 1.56561, loss_target: 1.51563, homo loss: 0.10573 
acc_train_clean: 0.4206, ASR_train_attach: 0.9975, ASR_train_outter: 0.9901
Epoch 160, loss_inner: 1.82147, loss_target: 7.87649, homo loss: 0.12361 
acc_train_clean: 0.4178, ASR_train_attach: 0.9975, ASR_train_outter: 0.0000
Epoch 170, loss_inner: 3.95137, loss_target: 6.32130, homo loss: 0.45138 
acc_train_clean: 0.4146, ASR_train_attach: 1.0000, ASR_train_outter: 0.0186
Epoch 180, loss_inner: 1.97842, loss_target: 3.04579, homo loss: 0.45072 
acc_train_clean: 0.4362, ASR_train_attach: 1.0000, ASR_train_outter: 0.9978
Epoch 190, loss_inner: 1.68788, loss_target: 1.97624, homo loss: 0.28842 
acc_train_clean: 0.4211, ASR_train_attach: 0.9875, ASR_train_outter: 0.9781
precent of left attach nodes: 1.000
Namespace(cuda=True, dataset='Flickr', debug=True, defense_mode='none', device_id=2, dis_weight=1.0, dropout=0.5, epochs=200, evaluate_mode='overall', hidden=64, homo_boost_thrd=0.5, homo_loss_weight=1.0, inner=1, lr=0.01, model='GCN', no_cuda=False, prune_thr=0.15, seed=921, selection_method='none', target_class=0, target_loss_weight=1, test_model='GCN', thrd=0.5, train_lr=0.02, trigger_size=3, trojan_epochs=200, use_vs_number=True, vs_number=400, vs_ratio=0, weight_decay=0.0005)
target class rate on Vs: 1.0000
accuracy on clean test nodes: 0.4396
ASR: 1.0000
Flip ASR: 1.0000/8360 nodes
CA: 0.4407
Traceback (most recent call last):
  File "run_adaptive.py", line 294, in <module>
    overall_asr += asr
NameError: name 'asr' is not defined
